
{% extends 'base.html' %}
{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='budget.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block title %}Your Budget{% endblock %}

{% block content %}
    <section class="budget-section">
        <h2>Your Budget Overview</h2>
        <h3>Option 1: Input Finances</h3>
        <form id="budget-form">
            <div class="input-column" id="income-column">
                <h3>Income</h3>
                <div class="entries"></div>
                <button type="button" class="add-entry-row"> + </button>
                <div class="total">Total: $0</div>
            </div>

            <div class="input-column" id="expenses-column">
                <h3>Expenses</h3>
                <div class="entries"></div>
                <button type="button" class="add-entry-row"> + </button>
                <div class="total">Total: $0</div>
            </div>

            <div class="input-column" id="savings-column">
                <h3>Savings Goals</h3>
                <div class="entries"></div>
                <button type="button" class="add-entry-row"> + </button>
                <div class="total">Total: $0</div>
            </div>
            <button type="submit">Update Budget</button>
        </form>

        <div id="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <p>Generating Budget Report...</p>
        </div>

        <div>
            <h3>Option 2: Upload Bank Statement</h3>
            <input type="file" id="bankStatementUpload" accept=".pdf,.csv,.txt">
            <button id="uploadStatementButton">Analyze Statement</button>
            <div id="uploadStatus"></div>
        </div>

        <div class="display" id="budget-container"> </div>
        
        <button id="download-pdf-button" style="display: none;">Download Detailed PDF Report</button>
    </section>

    <script src="{{ url_for('static', filename='budget.js') }}" defer></script>
{% endblock %}
